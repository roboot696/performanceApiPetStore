# petStoreApi Performance Testing

This repository contains performance testing scripts and resources for the `petStoreApi` service. Before running the performance tests, make sure to clone the repository and build the Docker image using the provided Dockerfile.

## Prerequisites

To get started, ensure you have the following prerequisites installed:

- [Docker Engine](https://docs.docker.com/get-docker/)
- Preferably, a container management tool like [Docker Desktop](https://www.docker.com/products/docker-desktop) or [LazyDocker](https://github.com/jesseduffield/lazydocker)

## Getting Started

1. Clone the repository:

   ```bash
   git clone https://github.com/roboot696/petStoreApi.git
   cd petStoreApi
   
2. Build the Docker image:
    
    ```bash
   docker build -t petstoreapi .
   
3. Clone the performanceApiPetStore repository:
    
     ```bash
   git clone https://github.com/roboot696/performanceApiPetStore.git
   cd performanceApiPetStore
   
4. Start the required services:
    
   ```bash
   docker-compose up influxdb grafana petstore
   
5. Start k6

   ```bash
   docker-compose up influxdb grafana petstore
   
This command is responsible for launching the services mentioned, allowing the performanceApiPetStore project to utilize them.

## Grafana and InfluxDB Integration

[Grafana](https://grafana.com/) will utilize the information generated by [k6](https://k6.io/), which is stored in [InfluxDB](https://www.influxdata.com/). This integration allows Grafana to access and visualize the performance metrics collected by k6, providing valuable insights into the behavior of the `petStoreApi` service under various conditions.

## Running k6 Performance Tests

To execute the performance tests using [k6](https://k6.io/), follow these steps:

Run the following command to start the k6 service and execute the specified script for `getStoreInventory`:

      ```bash
      docker-compose run --rm k6 run /scripts/loadTest_getStoreInventory.js
  
**Note:** Additional scripts are available in the `/scripts` directory. You can run them using similar commands:
    
      ```bash
      docker-compose run --rm k6 run /scripts/loadTest_getStoreInventory.js & docker-compose run --rm k6 run /scripts/loadTest_AddNewPetToStore.js & docker-compose run --rm k6 run /scripts/stressTesting_LoginUser.js

## See Results

To view the results of the performance tests, follow these steps:

1. After executing the k6 performance tests commands mentioned earlier, observe the terminal output for immediate insights.

2. Alternatively, you can access real-time graphical representations of the test results by visiting [http://localhost:3000/d/k6/k6-load-testing-results](http://localhost:3000/d/k6/k6-load-testing-results) in your web browser.

This dashboard, powered by Grafana, provides detailed visualizations of the performance metrics collected during the testing process, offering a comprehensive overview of the `petStoreApi` service's behavior under different scenarios.

